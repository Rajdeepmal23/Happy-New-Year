<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year 2026 üéÜ</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
body{background:black;overflow:hidden;color:white;}
#startScreen{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  background: radial-gradient(circle at top, #0b0b1f, #000); /* Clean night sky */
  z-index:10;
  text-align:center;
}
#startScreen h1{margin-bottom:10px;font-size:2rem;color:#ff5ca8;}
#startScreen p{margin-bottom:15px;color:#aaa;}
#nameInput{padding:12px 18px;border-radius:25px;border:none;outline:none;font-size:1rem;width:260px;text-align:center;}
#startBtn{margin-top:15px;padding:12px 30px;border:none;border-radius:25px;background:#ff0066;color:white;font-size:1rem;cursor:pointer;transition:.3s;}
#startBtn:hover{background:#ff3385;transform:scale(1.05);}
#wishBox{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;font-size:2rem;letter-spacing:2px;z-index:2;text-shadow:0 0 20px #ffccff;white-space:pre-line;display:none;}
canvas{position:fixed; inset:0; z-index:1;}
.star{position:fixed;width:2px;height:2px;background:white;border-radius:50%;opacity:0.8;}
.meteor{position:fixed;width:2px;height:2px;background:white;border-radius:50%;opacity:0.9;}
.confetti{position:fixed;width:6px;height:6px;background:linear-gradient(45deg,#ff0,#f0f);opacity:0.9;}
#creator{position:absolute;bottom:10px;font-size:0.8rem;color:#666;}
</style>
</head>
<body>

<!-- Start Screen -->
<div id="startScreen">
  <h1>Enter Your Name Cutie üéá</h1>
  <p>Press your screen to start fireworks</p>
  <input id="nameInput" placeholder="Enter Her Name..." />
  <button id="startBtn">Start Surprise üéá</button>
  <p id="creator">Created by Rajdeep ‚ù§Ô∏è</p>
</div>

<!-- Wish Message -->
<div id="wishBox"></div>

<!-- Canvas for Fireworks -->
<canvas id="fireworks"></canvas>

<!-- Music -->
<audio id="music" src="music.mp3" loop></audio>

<script>
/* ===== START & NAME ===== */
const startBtn = document.getElementById("startBtn");
const input = document.getElementById("nameInput");
const startScreen = document.getElementById("startScreen");
const wishBox = document.getElementById("wishBox");
const music = document.getElementById("music");
let herName="";

startBtn.onclick = () => {
  herName = input.value.trim();
  if(!herName) return alert("Please enter her name ‚ù§Ô∏è");
  startScreen.style.display="none";
  wishBox.style.display="block"; // show wish box after pressing start
  typingEffect(`üíñ Dear ${herName},\nHappy New Year 2026! üéÜ\nWishing you endless joy, love, and beautiful moments in the year ahead.
May 2026 bring happiness, success, and peace into your life.
With best wishes,
Rajdeep ‚ú®`);
  music.play();
  setTimeout(()=>textFirework("2026"),3500);
  setTimeout(()=>heartText(herName),7000);
};

/* ===== TYPING EFFECT ===== */
function typingEffect(text){
  wishBox.innerHTML="";
  let i=0;
  let timer=setInterval(()=>{
    wishBox.innerHTML += text[i]=='\n'? '<br>':text[i];
    i++;
    if(i>=text.length) clearInterval(timer);
  },40);
}

/* ===== STAR & METEOR BACKGROUND ===== */
for(let i=0;i<100;i++){
  const s=document.createElement("div");
  s.className="star";
  s.style.top=Math.random()*100+"vh";
  s.style.left=Math.random()*100+"vw";
  document.body.appendChild(s);
}
function createMeteor(){
  const m=document.createElement("div");
  m.className="meteor";
  m.style.top=Math.random()*30+"vh";
  m.style.left="-10px";
  document.body.appendChild(m);
  let pos=0;
  const interval=setInterval(()=>{
    pos+=8;
    m.style.left=pos+"px";
    m.style.top=parseFloat(m.style.top)+4+"px";
    if(pos>window.innerWidth){clearInterval(interval); m.remove();}
  },30);
}
setInterval(createMeteor,3000);

/* ===== CANVAS SETUP ===== */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
const off=document.createElement("canvas");
const offCtx=off.getContext("2d");
function resize(){canvas.width=innerWidth; canvas.height=innerHeight; off.width=canvas.width; off.height=canvas.height;}
resize();
addEventListener("resize",resize);

let rockets=[],particles=[];
const MAX_PARTICLES=4000;

/* ===== PARTICLE CLASS ===== */
class Particle{
  constructor(x,y,vx,vy,r,color){this.x=x;this.y=y;this.vx=vx;this.vy=vy;this.life=1;this.r=r;this.color=color;}
  update(){
    this.x+=this.vx; this.y+=this.vy; this.vy+=0.03; this.life-=0.012;
    ctx.fillStyle=`hsla(${this.color},${this.life})`;
    ctx.beginPath(); ctx.arc(this.x,this.y,this.r,0,Math.PI*2); ctx.fill();
    return this.life<=0;
  }
}

/* ===== ROCKET CLASS ===== */
class Rocket{
  constructor(x){this.x=x; this.y=canvas.height; this.vy=-7-Math.random()*2; this.target=Math.random()*canvas.height*0.4+120; this.color=Math.random()*360; this.size=2+Math.random()*2;}
  update(){
    this.y+=this.vy;
    ctx.fillStyle=`hsl(${this.color},100%,60%)`;
    ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2); ctx.fill();
    if(this.y<=this.target){explode(this.x,this.y,this.color); return true;}
    return false;
  }
}

/* ===== EXPLOSIONS ===== */
function explode(x,y,color){
  if(particles.length>MAX_PARTICLES) return;
  let type=Math.floor(Math.random()*4);
  for(let i=0;i<120;i++){
    let a=Math.random()*Math.PI*2;
    let s=Math.random()*5+2;
    let p=new Particle(x,y,Math.cos(a)*s,Math.sin(a)*s,2+Math.random()*2,color);
    if(type===1){ p.vx+=Math.cos(a)*1; p.vy+=Math.sin(a)*1; } 
    else if(type===2){ p.vx+=Math.sin(a)*1; p.vy+=Math.cos(a)*1; } 
    else if(type===3){ p.vx+=Math.cos(a)*2; p.vy+=Math.sin(a)*2; } 
    particles.push(p);
  }
}

/* ===== HEART FIREWORK ===== */
function heartFirework(x,y){
  for(let t=0;t<Math.PI*2;t+=0.22){
    let hx=16*Math.pow(Math.sin(t),3);
    let hy=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
    particles.push(new Particle(x,y,hx*0.18,hy*0.18,2,330));
  }
}

/* ===== LETTER-BY-LETTER HEART TEXT ===== */
function heartText(name){
  offCtx.clearRect(0,0,off.width,off.height);
  offCtx.font="bold 120px Arial"; offCtx.textAlign="center"; offCtx.fillStyle="white";
  offCtx.fillText(name,off.width/2,off.height/2);
  let img=offCtx.getImageData(0,0,off.width,off.height);
  let points=[];
  for(let y=0;y<img.height;y+=8){
    for(let x=0;x<img.width;x+=8){
      let i=(y*img.width+x)*4;
      if(img.data[i+3]>150) points.push({x,y});
    }
  }
  let i=0;
  let interval=setInterval(()=>{
    if(i>=points.length){clearInterval(interval);return;}
    heartFirework(points[i].x,points[i].y);
    i+=15;
  },40);
}

/* ===== CLICK INTERACTION ===== */
addEventListener("click", e => {
  rockets.push(new Rocket(e.clientX));
  heartFirework(e.clientX,e.clientY);
});

/* ===== MUSIC SYNC ===== */
const audioCtx=new AudioContext();
const analyser=audioCtx.createAnalyser();
const source=audioCtx.createMediaElementSource(music);
source.connect(analyser); analyser.connect(audioCtx.destination);
analyser.fftSize=256; const data=new Uint8Array(analyser.frequencyBinCount);
let lastBeat=0; music.onplay=()=>audioCtx.resume();

/* ===== ANIMATE LOOP ===== */
function animate(){
  ctx.fillStyle="rgba(0,0,0,0.18)"; ctx.fillRect(0,0,canvas.width,canvas.height);
  rockets=rockets.filter(r=>!r.update());
  particles=particles.filter(p=>!p.update());
  analyser.getByteFrequencyData(data);
  let beat = data.reduce((a,b)=>a+b)/data.length;
  if(beat>150 && Date.now()-lastBeat>400){rockets.push(new Rocket(Math.random()*canvas.width)); lastBeat=Date.now();}
  requestAnimationFrame(animate);
}
animate();

/* ===== AUTO ROCKETS ===== */
setInterval(()=>rockets.push(new Rocket(Math.random()*canvas.width)),1200);

/* ===== TEXT FIREWORKS FOR YEAR ===== */
function textFirework(text){
  const centerX = canvas.width/2;
  const centerY = canvas.height/2;
  for(let i=0;i<text.length;i++){
    setTimeout(()=>{
      heartFirework(centerX - text.length*10 + i*20, centerY);
    }, i*150);
  }
}

/* ===== CONFETTI BURSTS ===== */
function confettiBurst(){
  for(let i=0;i<100;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.top="0px";
    document.body.appendChild(c);
    let pos=0;
    let intv=setInterval(()=>{
      pos+=5+Math.random()*5;
      c.style.top=pos+"px";
      c.style.transform=`rotate(${pos*5}deg)`;
      if(pos>window.innerHeight){clearInterval(intv);c.remove();}
    },30);
  }
}
setInterval(confettiBurst,8000);
</script>
</body>
</html>
